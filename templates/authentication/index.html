<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link rel="icon" href="https://klaindustries.com/wp-content/uploads/2017/07/Light-bulb-icon.png" width="300" height="300" type="image/icon type">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <title> {% block title %}Home{% endblock title %} | Knowledge Platform </title>
    <style>
        .flip-card {
            background-color: transparent;
            width: 300px;
            height: 300px;
            perspective: 1000px;
            display: inline-block;
            margin: 25px 25px 25px 25px;
        }
        
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        }
        
        .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
        }
        
        .flip-card-front,
        .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }
        
        .flip-card-front {
            background-color: #bbb;
            color: black;
        }
        
        .flip-card-back {
            background-color: #ffffff;
            color: #000000;
            transform: rotateY(180deg);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #F3F3F3;
            font-weight: bold;
        }
        
        h1 {
            font-family: "Comic Sans MS";
            color: #00a0ff;
        }
        
        header {
            font-family: "Comic Sans MS";
            display: flex;
            justify-content: center;
            align-items: center;
            height: 60px;
            color: #00a0ff;
            background-color: #EEE;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        }
        
        main {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        main .list {
            width: 100%;
            max-width: 768px;
            background-color: #FFF;
            border: 2px solid #00a0ff;
            border-radius: 5%;
            margin-top: 25px;
        }
        
        main .list .item {
            padding: 15px;
            border-bottom: 1px solid #CCC;
        }
        
        main .list .item:last-of-type {
            border-bottom: none;
        }
        
        main .list .item:hover {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .pagenumbers {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
        }
        
        .pagenumbers button {
            width: 50px;
            height: 50px;
            appearance: none;
            border: none;
            outline: none;
            cursor: pointer;
            background-color: #0096FF;
            margin: 5px;
            transition: 0.4s;
            color: #FFF;
            font-size: 18px;
            text-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);
            box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);
        }
        
        .pagenumbers button:hover {
            background-color: blue;
        }
        
        .pagenumbers button.active {
            background-color: blue;
            box-shadow: inset 0px 0px 4px rgba(0, 0, 0, 0.2);
        }
        
        #upt2 {
            float: right;
            color: black;
            background: #00a0ff;
            text-decoration: none;
            font-family: Arial;
            height: 30px;
            text-align: center;
            border: 2px solid green;
            border-radius: 8px;
            margin: 8px;
            padding: 0px 10px;
        }
        
        #upt2:hover {
            background: grey;
        }
    </style>


</head>

<body>
    {% comment %}
    <script type="text/javascript">
        (function(d, m) {
            var kommunicateSettings = {
                "appId": "9059094ea0e64021151495cc12c0f9bf",
                "popupWidget": true,
                "automaticChatOpenOnNavigation": true
            };
            var s = document.createElement("script");
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://widget.kommunicate.io/v2/kommunicate.app";
            var h = document.getElementsByTagName("head")[0];
            h.appendChild(s);
            window.kommunicate = m;
            m._globals = kommunicateSettings;
        })(document, window.kommunicate || {});
        /* NOTE : Use web server to view HTML files as real-time update will not work if you directly open the HTML file in the browser. */
    </script> {% endcomment %}
    <nav class="navbar navbar-expand-lg navbar-light bg-light" id="sh">
        <a class="navbar-brand" href="#"><img src="/static/29.png" height="40" width="120"></a>
        {% comment %}
        <a href="#">
            <img alt="Qries" src="/static/31.jfif" width="30" height="30">
        </a> {% endcomment %}
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/"><i class="fa fa-fw fa-home"></i>Home<span class="sr-only">(current)</span></a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="/contribute">Contribute</a>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Filter Knowledges
        </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="defects">Defects</a> {% comment %} Neo4j {% endcomment %}

                        <a class="dropdown-item" href="enhancements">Enhancement</a>
                        <a class="dropdown-item" href="opportunity">Opportunity</a>
                        <a class="dropdown-item" href="supportticket">Support Ticket</a>
                    </div>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="/" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Issue Tracking
      </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="jira">Jira</a>
                        <a class="dropdown-item" href="salesforce">Salesforce</a>
                        <a class="dropdown-item" href="freshdesk">FreshDesk</a>
                    </div>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="/searching2">Search2</a>
                </li>


            </ul>
            <form class="form-inline my-2 my-lg-0" method=POST action={% url 'search'%}>
                {%csrf_token%}
                <input class="form-control mr-sm-2" type="search" placeholder="Search Knowledges" aria-label="Search" name="searched">
                <button class="btn btn-outline-primary my-2 my-sm-0" type="submit"><i class="fa fa-fw fa-search"></i></button> &nbsp &nbsp&nbsp&nbsp
            </form>

        </div>
        <div class="btn-group">
            <img type="button" src="https://img.icons8.com/external-kiranshastry-lineal-kiranshastry/30/ffffff/external-user-interface-kiranshastry-lineal-kiranshastry-1.png" class="btn btn-primary" />
            <button type="button" class="btn btn-primary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
      <p style="display:inline">{{user.first_name}}</p>
      <span class="visually-hidden"></span>
    </button> {% if user.is_authenticated %}
            <ul class="dropdown-menu">
                {% comment %}
                <li><a class="dropdown-item" href="/signup">Sign up</a></li> {% endcomment %} {% comment %}
                <li><a class="dropdown-item" href="/signin">Sign in</a></li> {% endcomment %}
                <li><a class="dropdown-item" href="/your_contribution" name="contri"> Your Contributions</a></li>
                <li><a class="dropdown-item" id="change-password" href="/change_password_form">Change Password</a></li>
                <li><a class="dropdown-item" href="/signout">Sign out</a></li>
                <li><a class="dropdown-item" id="confirm-delete" href="/delete_account">Delete Account</a></li>
            </ul>
            {% else %}
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="/signup">Sign up</a></li>
                <li><a class="dropdown-item" href="/signin">Sign in</a></li>
                <li><a class="dropdown-item" href="/zoho">Zoho</a></li>



                {% comment %}
                <li><a class="dropdown-item" href="/signout">Sign out</a></li> {% endcomment %}
            </ul>
            {% endif %}
        </div>
    </nav>
    <div class="container-fluid px-0">
        <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
                <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="/static/11.jfif" class="d-block w-100" height=500px alt="...">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Welcome to the best platform to share and gain Knowledge</h5>
                        <p>This platform will help a developer, pre sales accountant and other employees to get some insight for his project and also to share Knowledge.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="/static/24.jfif" class="d-block w-100" height=500px alt="...">

                    <div class="carousel-caption d-none d-md-block">
                        <h5 style="color:white;"><strong>Here the employees share their Knowledge.</strong></h5>
                        <p style="color:white;"><strong>This Knowledge will help other employees to get an insight</strong></p>
                    </div>
                </div>


                {% for message in messages %} {% comment %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert"> {% endcomment %}
                    <script class="alert alert-{{ message.tags}}">
                        alert('Message: {{ message }}');
                    </script>
                    {% endfor %}

                    <div class="carousel-item">
                        <img src="/static/27.jfif" class="d-block w-100" height=500px alt="...">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>You can filter your interested knowledge from the various knowledges provided.</h5>
                            <p>Knowledge is power</p>
                        </div>
                    </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>



        <script>
            $(document).on('click', '#confirm-delete', function() {
                return confirm('Are you sure you want to delete your Account?');
            })
        </script>

        {% comment %} trying pagination {% endcomment %}
        </head>

        <body>
            <header style="background-color:linear-gradient( rgba(0, 160, 255, 0.5) 100%, rgba(0, 144, 229, 0.5)100%) " ;>
                <h1>Knowledges</h1>
            </header>
            <div class="upt" <button><a id="upt2" href="update_contribution">Update and Delete Knowledge</a></button>
            </div>
            <br>
            <br>
            <main style="background:linear-gradient( rgba(0, 160, 255, 0.5) 100%, rgba(0, 144, 229, 0.5)100%),url('https://mdbcdn.b-cdn.net/img/Photos/new-templates/search-box/img4.webp');">
                <div class="list" id="list"></div>
                <div class="pagenumbers" id="pagination"></div>
            </main>


    </div>
    </body>

    <script>
        var data = JSON.parse("{{data|escapejs}}");
        const list_items = [];
        for (var x in data) {
            list_items.push(data[x]);
        }


        const list_element = document.getElementById('list');
        const pagination_element = document.getElementById('pagination');

        let current_page = 1;
        let rows = 3;

        function DisplayList(items, wrapper, rows_per_page, page) {
            wrapper.innerHTML = "";
            page--;

            let start = rows_per_page * page; //0
            let end = start + rows_per_page; //5
            let paginatedItems = items.slice(start, end);

            for (let i = 0; i < paginatedItems.length; i++) {
                let item = paginatedItems[i];
                let item_element = document.createElement('div');
                item_element.classList.add('item');
                item_element.innerText = item;
                wrapper.appendChild(item_element);
            }
        }

        function SetupPagination(items, wrapper, rows_per_page) {
            wrapper.innerHTML = "";

            let page_count = Math.ceil(items.length / rows_per_page);
            for (let i = 1; i < page_count + 1; i++) {
                let btn = PaginationButton(i, items);
                wrapper.appendChild(btn);
            }
        }

        function PaginationButton(page, items) {
            let button = document.createElement('button');
            button.innerText = page;

            if (current_page == page) button.classList.add('active');

            button.addEventListener('click', function() {
                current_page = page;
                DisplayList(items, list_element, rows, current_page);

                let current_btn = document.querySelector('.pagenumbers button.active');
                current_btn.classList.remove('active');

                button.classList.add('active');
            });

            return button;
        }

        DisplayList(list_items, list_element, rows, current_page);
        SetupPagination(list_items, pagination_element, rows);
    </script>


</body>

</html>